{"resourceType":"StructureDefinition","id":"cf075664-89f6-49d6-bc3d-cfc7176b9ac6","url":"https://fhir.nhs.uk/StructureDefinition/NHSDigital-Practitioner","name":"NHSDigitalPractitioner","status":"draft","fhirVersion":"4.0.1","mapping":[{"identity":"v2","uri":"http://hl7.org/v2","name":"HL7 v2 Mapping"},{"identity":"rim","uri":"http://hl7.org/v3","name":"RIM Mapping"},{"identity":"w5","uri":"http://hl7.org/fhir/fivews","name":"FiveWs Pattern Mapping"}],"kind":"resource","abstract":false,"type":"Practitioner","baseDefinition":"https://fhir.hl7.org.uk/StructureDefinition/UKCore-Practitioner","derivation":"constraint","differential":{"element":[{"id":"Practitioner","path":"Practitioner","constraint":[{"key":"prac-nmc","severity":"warning","human":"NMC must be of the format NNANNNNA","expression":"identifier.where(system='https://fhir.hl7.org.uk/Id/nmc-number').exists().not() or (identifier.where(system='https://fhir.hl7.org.uk/Id/nmc-number').exists()  and identifier.where(system='https://fhir.hl7.org.uk/Id/nmc-number').value.matches('^[0-9]{2}[A-Z]{1}[0-9]{4}[A-Z]{1}$'))","source":"https://fhir.nhs.uk/StructureDefinition/NHSDigital-Practitioner"},{"key":"prac-gmp","severity":"warning","human":"GMP must be of the format GNNNNNNN and not be a spurious code (starts with G6 or G7)","expression":"identifier.where(system='https://fhir.hl7.org.uk/Id/gmp-number').exists().not() or (identifier.where(system='https://fhir.hl7.org.uk/Id/gmp-number').exists()  and identifier.where(system='https://fhir.hl7.org.uk/Id/gmp-number').value.matches('^[G]{1}[01234589]{1}[0-9]{6}$'))","source":"https://fhir.nhs.uk/StructureDefinition/NHSDigital-Practitioner"},{"key":"prac-gmc","severity":"warning","human":"GMC must be of the format CNNNNNNN","expression":"identifier.where(system='https://fhir.hl7.org.uk/Id/gmc-number').exists().not() or (identifier.where(system='https://fhir.hl7.org.uk/Id/gmc-number').exists()  and identifier.where(system='https://fhir.hl7.org.uk/Id/gmc-number').value.matches('^[C]{1}[0-9]{7}$'))","source":"https://fhir.nhs.uk/StructureDefinition/NHSDigital-Practitioner"},{"key":"prac-gphc","severity":"warning","human":"GPHC must be of the format NNNNNNN","expression":"identifier.where(system='https://fhir.hl7.org.uk/Id/gphc-number').exists().not() or (identifier.where(system='https://fhir.hl7.org.uk/Id/gphc-number').exists()  and identifier.where(system='https://fhir.hl7.org.uk/Id/gphc-number').value.matches('^[0-9]{7}$'))","source":"https://fhir.nhs.uk/StructureDefinition/NHSDigital-Practitioner"},{"key":"prac-gmcreferencenumber","severity":"error","human":"GMC Reference Number must be of the format NNNNNNN","expression":"identifier.where(system='https://fhir.hl7.org.uk/Id/gmc-reference-number').exists().not() or (identifier.where(system='https://fhir.hl7.org.uk/Id/gphc-number').exists()  and identifier.where(system='https://fhir.hl7.org.uk/Id/gmc-reference-number').value.matches('^[0-9]{7}$'))","source":"https://fhir.nhs.uk/StructureDefinition/NHSDigital-Practitioner"},{"key":"prac-hcpc","severity":"warning","human":"HCPC must be of the format AANNNNNN","expression":"identifier.where(system='https://fhir.hl7.org.uk/Id/hcpc-number').exists().not() or (identifier.where(system='https://fhir.hl7.org.uk/Id/hcpc-number').exists()  and identifier.where(system='https://fhir.hl7.org.uk/Id/hcpc-number').value.matches('^[A-Z]{2}[0-9]{6}$'))","source":"https://fhir.nhs.uk/StructureDefinition/NHSDigital-Practitioner"},{"key":"prac-din","severity":"warning","human":"DIN format must be NNNNNN","expression":"identifier.where(system='https://fhir.hl7.org.uk/Id/din-number').exists().not() or (identifier.where(system='https://fhir.hl7.org.uk/Id/din-number').exists()  and identifier.where(system='https://fhir.hl7.org.uk/Id/din-number').value.matches('^[0-9]{6}$'))","source":"https://fhir.nhs.uk/StructureDefinition/NHSDigital-Practitioner"},{"key":"prac-sds-user-numeric","severity":"error","human":"sds-user-id must be numeric","expression":"identifier.where(system='https://fhir.nhs.uk/Id/sds-user-id').exists().not() or (identifier.where(system='https://fhir.nhs.uk/Id/sds-user-id').exists()  and identifier.where(system='https://fhir.nhs.uk/Id/sds-user-id').value.matches('^[0-9]+$'))","source":"https://fhir.nhs.uk/StructureDefinition/NHSDigital-Practitioner"},{"key":"nacs-code-retired","severity":"warning","human":"NACS (/ODS) Practitioner Identifier is retired in NHS FHIR and should not be used. Please use the actual naming system instead (e,g, https://fhir.hl7.org.uk/Id/gmc-number, https://fhir.hl7.org.uk/Id/gmp-number, etc).","expression":"identifier.where(system='https://fhir.hl7.org.uk/Id/professional-code').exists().not()","source":"https://fhir.nhs.uk/StructureDefinition/NHSDigital-Practitioner"}]},{"id":"Practitioner.identifier","path":"Practitioner.identifier","slicing":{"discriminator":[{"type":"value","path":"system"}],"rules":"open"},"definition":"**SHOULD** contain a professional code.\r\n\r\nThe inclusion of a professional code is strongly recommended. For consultants and doctors a prescribing code should be present. Please see [NHS Data Model and Dictionary](https://datadictionary.nhs.uk/) for details on these code.\r\n\r\nThe *SDS User Id* should be sourced from NHS Identity (SmartCard), this is also held within the Spine Directory Service LDAP database. \r\n\r\n\r\n| FHIR identifier | OID/HL7v3 | HL7v2 ITK | Format | Description | Professional Code  | Prescribing Code | \r\n|--\r\n| https://fhir.hl7.org.uk/Id/gmp-number | 2.16.840.1.113883.2.1.3.2.4.16.62 | GMP | G[1234589]NNNNNN | General Medical Practitioner Code [GENERAL MEDICAL PRACTITIONER PPD CODE](https://datadictionary.nhs.uk/attributes/general_medical_practitioner_ppd_code.html). Formerly called GP General National Code (GNC).  | Yes | No, also include DIN |\r\n| https://fhir.hl7.org.uk/Id/gmc-number | 2.16.840.1.113883.2.1.3.2.4.16.63 | GMC | CNNNNNNN |General Medical Council Code [CONSULTANT_CODE](https://datadictionary.nhs.uk/attributes/consultant_code.html) | Yes | Yes |\r\n| https://fhir.hl7.org.uk/Id/nmc-number | | | NNANNNNA |Nursing and Midwifery Council Code | Yes | Yes |\r\n| https://fhir.hl7.org.uk/Id/gphc-number | | | NNNNNNN |General Pharmaceutical Council Code |Yes | Yes  |\r\n| https://fhir.hl7.org.uk/Id/hcpc-number | | | AANNNNNN(*) |Health and Care Professional Council Code |Yes | Yes  |\r\n| https://fhir.hl7.org.uk/Id/din-number | | | NNNNNN | [DOCTOR INDEX NUMBER](https://datadictionary.nhs.uk/attributes/doctor_index_number.html)  | No | Yes |\r\n| https://fhir.nhs.uk/Id/sds-user-id | 1.2.826.0.1285.0.2.0.65 | | N(*)  | SDS User ID | No | No | \r\n| https://fhir.nhs.uk/Id/gmc-reference-number | 2.16.840.1.113883.2.1.3.2.4.18.29 | | NNNNNNN | [GMC Reference Number](https://www.datadictionary.nhs.uk/attributes/general_medical_council_reference_number.html)  | No | No | \r\n| https://fhir.hl7.org.uk/Id/professional-code | 1.2.826.0.1285.0.2.1.54 | | A(*) | ODS/NACS Practitioner Code (retired). Included for backwards compatibility | No | No | \r\n\r\nFormat\r\n\r\n- N = any number\r\n- A = any alpha\r\n\r\n(*) NHS Prescription Services systems require these prescriber codes to be 8 characters\r\nlong. Additional zeroes (0) should be inserted immediately following the first 2 alpha\r\ncharacters to extend the code to 8 characters as necessary.\r\n\r\n| Code | Format | Example |\r\n|--\r\n| GP/medical prescriber (DIN) | NNNNNN | 954000 |\r\n| Nurse prescriber (NMC) | NNANNNNA | 71A2998E | \r\n| Pharmacist prescriber (GPHC) | NNNNNNN | 2033467 |\r\n| Optometrist prescriber | NN-NNNNN | 01-09491 |\r\n| Podiatrist prescriber (HCPC) | CHNNNNNN | CH029821 | \r\n| Physiotherapist prescriber (HCPC) | PHNNNNNN |PH095159\r\n| Radiographer prescriber (HCPC) | RANNNNNN | RA088262 | \r\n| Dietician prescriber (HCPC) | DTNNNNNN | DT012345 | \r\n| Paramedic prescriber (HCPC) | PANNNNNN | PA054321 |\r\n\r\nThe *Doctor Index Number (DIN)* will be present in the resource even if they are prescribing using a different prescribing code. This code is called the *spurious code* is held within the `NHSDigital-PractitionerRole` resource and **MUST NOT** be contained in the Practitioner resource. \r\n\r\nIn the example below, the practitioner (GP as they have a GMP Code) has a SDS User Id of 3415870201, GMP code of G1234567 and DIN code of 123456. If the GP was in a role, prescribing using a spurious code this would be found in the `PractitionerRole`.\r\n\r\n```json\r\n{\r\n  \"resourceType\": \"Practitioner\",\r\n  ...\r\n  \"identifier\": [\r\n          {\r\n            \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",\r\n            \"value\": \"3415870201\"\r\n          },\r\n          {\r\n            \"system\": \"https://fhir.hl7.org.uk/Id/gmp-number\",\r\n            \"value\": \"G1234567\"\r\n          },\r\n          {\r\n            \"system\": \"https://fhir.hl7.org.uk/Id/din-number\",\r\n            \"value\": \"123456\"\r\n          }\r\n        ]\r\n  ...\r\n}\r\n```\r\n\r\nIn the example below, the practitioner (Consultant as they have a GMC Code) has a SDS User Id of 1415870201, GMC code of C2134567.\r\n\r\n```json\r\n{\r\n  \"resourceType\": \"Practitioner\",\r\n  ...\r\n  \"identifier\": [\r\n          {\r\n            \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",\r\n            \"value\": \"1415870201\"\r\n          },\r\n          {\r\n            \"system\": \"https://fhir.hl7.org.uk/Id/gmc-number\",\r\n            \"value\": \"C2134567\"\r\n          }\r\n        ]\r\n  ...\r\n}\r\n```\r\n\r\n### Professional Code System (Unspecified/Unknown System)\r\n\r\nIn cases where the profession code is present but it is not certain what type of code this is, the `https://fhir.hl7.org.uk/Id/professional-code` system should be used. It is also used for backwards compatibilty with EPS HL7 v3 ODS/NACS Practitioner Identifiers. \r\nThis system may include codes from different codes and this may lead to identfication issues, for example GPhC and GMC Reference Number have the same format (7 digits), if one of these is receieved it is not known if this is a doctor and or a pharmacist.\r\n\r\nE.g. in the example below, 2134567 is probably a GMC Reference Number but we are not certain.\r\n\r\n```json\r\n{\r\n  \"resourceType\": \"Practitioner\",\r\n  ...\r\n  \"identifier\": [\r\n          {\r\n            \"system\": \"https://fhir.nhs.uk/Id/sds-user-id\",\r\n            \"value\": \"1415870201\"\r\n          },\r\n          {\r\n            \"system\": \"https://fhir.hl7.org.uk/Id/professional-code\",\r\n            \"value\": \"2134567\"\r\n          }\r\n        ]\r\n  ...\r\n}\r\n```","comment":"SHOULD contain a professional code or SDS-user-id.","min":1,"mustSupport":true},{"id":"Practitioner.identifier:gmcCode","path":"Practitioner.identifier","sliceName":"gmcCode","short":"General Medical Council Consultant Code","max":"1","mustSupport":true},{"id":"Practitioner.identifier:gmcCode.system","path":"Practitioner.identifier.system","fixedUri":"https://fhir.hl7.org.uk/Id/gmc-number"},{"id":"Practitioner.identifier:gmpCode","path":"Practitioner.identifier","sliceName":"gmpCode","short":"General Medical Practitioner Code","definition":"Formerly called GP General National Code (GNC).","max":"1","mustSupport":true},{"id":"Practitioner.identifier:gmpCode.system","path":"Practitioner.identifier.system","fixedUri":"https://fhir.hl7.org.uk/Id/gmp-number"},{"id":"Practitioner.identifier:dinCode","path":"Practitioner.identifier","sliceName":"dinCode","short":"Doctor Index Number","max":"1","mustSupport":true},{"id":"Practitioner.identifier:dinCode.system","path":"Practitioner.identifier.system","fixedUri":"https://fhir.hl7.org.uk/Id/din-number"},{"id":"Practitioner.identifier:gphcCode","path":"Practitioner.identifier","sliceName":"gphcCode","short":"General Pharmaceutical Council Code","max":"1","mustSupport":true},{"id":"Practitioner.identifier:gphcCode.system","path":"Practitioner.identifier.system","fixedUri":"https://fhir.hl7.org.uk/Id/gphc-number"},{"id":"Practitioner.identifier:hcpcNumber","path":"Practitioner.identifier","sliceName":"hcpcNumber","short":"Health and Care Professional Council Code","max":"1","mustSupport":true},{"id":"Practitioner.identifier:hcpcNumber.system","path":"Practitioner.identifier.system","fixedUri":"https://fhir.hl7.org.uk/Id/hcpc-number"},{"id":"Practitioner.identifier:nmcNumber","path":"Practitioner.identifier","sliceName":"nmcNumber","short":"Nursing and Midwifery Council Code","max":"1","mustSupport":true},{"id":"Practitioner.identifier:nmcNumber.system","path":"Practitioner.identifier.system","fixedUri":"https://fhir.hl7.org.uk/Id/nmc-number"},{"id":"Practitioner.identifier:professionalNumber","path":"Practitioner.identifier","sliceName":"professionalNumber","short":"ODS/NACS Practitioner Code (retired)","definition":"A legacy system to support conversion of NPfIT/v3 CodeSysem to FHIR.\r\nThis should not be used on new implementations. More accurate systems such as https://fhir.hl7.org.uk/Id/gmp-number and https://fhir.hl7.org.uk/Id/gmc-number\r\n\r\nAlthough this system was intended to only be ODS/NACS Practitioner Identifiers, it has been used as a general purpose system. Therefore the codes can't be trusted e.g. 1234567 could be referring to a GPhC (pharmacist) or GMC Reference Number (doctor). These codes on their won should not be considered safe for the purposes of Practitioner identification.","mustSupport":false},{"id":"Practitioner.identifier:professionalNumber.system","path":"Practitioner.identifier.system","fixedUri":"https://fhir.hl7.org.uk/Id/professional-code"},{"id":"Practitioner.identifier:gmcReferenceNumber","path":"Practitioner.identifier","sliceName":"gmcReferenceNumber","short":"GMC Reference Number","definition":"This should not be confused with https://fhir.hl7.org.uk/Id/gmc-number which is the Consultants CONSULTANT_CODE. \r\n\r\nThis is considered a supplemental code and the official English NHS identifiers (https://fhir.hl7.org.uk/Id/gmc-number or https://fhir.hl7.org.uk/Id/gmp-number) should also be provided.","max":"1","mustSupport":false},{"id":"Practitioner.identifier:gmcReferenceNumber.system","path":"Practitioner.identifier.system","fixedUri":"https://fhir.hl7.org.uk/Id/gmc-reference-number"},{"id":"Practitioner.identifier:sdsUserId","path":"Practitioner.identifier","sliceName":"sdsUserId","short":"SDS User Id","definition":"Used with CIS2 and Spine","max":"1"},{"id":"Practitioner.identifier:sdsUserId.system","path":"Practitioner.identifier.system","fixedUri":"https://fhir.nhs.uk/Id/sds-user-id"},{"id":"Practitioner.name","path":"Practitioner.name","min":1,"mustSupport":true},{"id":"Practitioner.telecom","path":"Practitioner.telecom","mustSupport":true},{"id":"Practitioner.telecom.value","path":"Practitioner.telecom.value","min":1},{"id":"Practitioner.telecom.use","path":"Practitioner.telecom.use","min":1}]}}