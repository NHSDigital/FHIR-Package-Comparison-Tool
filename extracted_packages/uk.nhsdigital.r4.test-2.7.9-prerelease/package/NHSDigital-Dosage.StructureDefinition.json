{"resourceType":"StructureDefinition","url":"https://fhir.nhs.uk/StructureDefinition/NHSDigital-Dosage","name":"NHSDigitalDosage","status":"draft","fhirVersion":"4.0.1","kind":"complex-type","abstract":false,"type":"Dosage","baseDefinition":"http://hl7.org/fhir/StructureDefinition/Dosage","derivation":"constraint","differential":{"element":[{"id":"Dosage.sequence","path":"Dosage.sequence","short":"Multi-sequence dosage instructions.","definition":"A multi-sequence would be required where a dosage instruction changes over a given time schedule, where a dosage instruction includes optional follow-up doses or where a concurrent dosage instruction is required for the same medication at a different dose.\r\n\r\nExamples below include Prednisolone to treat Bell’s palsy where a dose starts at 60 mg per day for a period of time then reduces by 10 mg per day. This would be described as a sequential dosage instruction. A concurrent dosage example is provided to describe a different dose in the morning to that at midday.\r\n\r\n#### Sequential Instructions\r\n\r\nWhere the value of sequence is an incremental integer it defines a sequential instruction.\r\n\r\n#### Concurrent Instructions\r\n\r\nWhere the same integer value of sequence is defines it means a concurrent instruction.","mustSupport":true},{"id":"Dosage.text","path":"Dosage.text","short":"The complete dosage instruction as a human readable string.","definition":"The complete dosage instruction as a human readable string.\r\n\r\n<div class=\"nhsd-a-box nhsd-a-box--bg-light-blue nhsd-!t-margin-bottom-6 nhsd-t-body\">\r\n    <strong>Recommendation</strong>: Use the <a href='DosetoTextTranslation'>translation algorithm</a> published within this guide to create a string from the coded Dosage elements. It is planned for this translation algorithm to be available as an API.\r\n</div>\r\n\r\nFor example;\r\n\r\n```xml\r\n<text value=\"1 tablet - every 6 hours - oral\" />\r\n```\r\n\r\nWhere additional dosage instructions need to be conveyed that cannot be described using any other element of the Dosage structure, then append these to the end of the translated dosage text.\r\n\r\nFor example, the instruction to `“infuse as rapidly as possibly via intraperitoneal port”` is not a coded term so cannot be shared as a `additionalInstruction`. It would neither be appropriate as a `patientInstruction` string.\r\n\r\nFor example;\r\n\r\n```xml\r\n<text value=\"{the dosage elements translated as text} - infuse as rapidly as possibly via intraperitoneal port\" />\r\n```\r\n\r\nFor example, the instruction `“immediately following drug {X}”)`, where {X} is the name of a drug, is neither suitable as a `additionalInstruction` nor `patientInstruction`.\r\n\r\nFor example;\r\n\r\n```xml\r\n<text value=\"500 milligrams - once - oral - immediately following drug {X}\" />\r\n```","mustSupport":true},{"id":"Dosage.additionalInstruction","path":"Dosage.additionalInstruction","short":"Additional dosage instructions that can be either SNOMED-CT coded terms or free-text instructions.","definition":"Where suitable SNOMED-CT coded terms exist, use them instead of free-text instructions. See the SNOMED-CT hierarchy descendants of [419492006 Additional dosage instructions (qualifier value)](https://termbrowser.nhs.uk/?perspective=full&conceptId1=419492006&edition=uk-edition). These terms are also available from the example [FHIR valueset binding](http://hl7.org/fhir/stu3/valueset-additional-instruction-codes.html).\r\n\r\n<div class=\"nhsd-a-box nhsd-a-box--bg-light-yellow nhsd-!t-margin-bottom-6 nhsd-t-body\">\r\n    <strong>Important:</strong> Where no code exists, <code>additionalInstructions</code> can be conveyed as free-text; however, if free-text is used rather than a SNOMED-CT coded term, the `MedicationRequest` cannot be computable, and requires human intervention in the case of conditional or contradictory instructions.\r\n</div>\r\n\r\n**Coded instruction**\r\n```xml\r\n<additionalInstruction>\r\n    <coding> \r\n        <system value=\"http://snomed.info/sct\"/> \r\n        <code value=\"419529008\"/> \r\n        <display value=\"Dissolved under the tongue \"/> \r\n    </coding>\r\n</additionalInstruction>\r\n```\r\n\r\n**Multiple coded instructions**\r\n\r\n```xml\r\n<additionalInstruction>\r\n    <coding> \r\n        <system value=\"http://snomed.info/sct\"/> \r\n        <code value=\"417995008\"/> \r\n        <display value=\"Dissolve or mix with water before taking\"/> \r\n    </coding>\r\n</additionalInstruction>\r\n<additionalInstruction>\r\n    <coding> \r\n        <system value=\"http://snomed.info/sct\"/> \r\n        <code value=\"417980006\"/> \r\n        <display value=\"Contains aspirin\"/> \r\n    </coding>\r\n</additionalInstruction>\r\n```\r\n\r\n**Free-text instruction (try to avoid using free-text where possible)**\r\n\r\n```xml\r\n<additionalInstruction>\r\n    <text value=\"with dialysis\"/>\r\n</additionalInstruction>\r\n```\r\n\r\n### `additionalInstruction` / `when` overlap\r\n\r\n<div class=\"nhsd-a-box nhsd-a-box--bg-light-blue nhsd-!t-margin-bottom-6 nhsd-t-body\">\r\n    <strong>Note:</strong> The value-sets for <code>Timing.when</code> and <code>Dosage.additionalInstruction</code> do contain some overlapping values.\r\n</div>\r\n\r\nFor example, they can both describe “with or after food”. \r\n\r\nIn such cases, use `Timing.when` instead of a coded `Dosage.additionalInstruction`.\r\n\r\n\r\n### continue / stop instructions\r\n\r\nThere may be the need for a clinician to give explicit instructions to either stop or continue taking medication. This could be applicable for discharge medication where one medicine may be for short term pain relief and should be stopped after the prescribed quantity has been taken, while another medicine must be continued until further notice. \r\n\r\nThe patient’s GP would be informed of this as part of the discharge letter but having these instructions explicitly coded provides a more robust solution.\r\n\r\nThree SNOMED-CT codes exist that can be used for this purpose.\r\n\r\n- “Then stop” (SNOMED concept identifier = [422327006](https://termbrowser.nhs.uk/?perspective=full&conceptId1=422327006&edition=uk-edition))\r\n- “Then discontinue” (SNOMED concept identifier = [421484000](https://termbrowser.nhs.uk/?perspective=full&conceptId1=421484000&edition=uk-edition))\r\n- “Do not stop taking this medicine except on your doctor’s advice” (SNOMED concept identifier = [419444006](https://termbrowser.nhs.uk/?perspective=full&conceptId1=419444006&edition=uk-edition))\r\n\r\n<div class=\"nhsd-a-box nhsd-a-box--bg-light-blue nhsd-!t-margin-bottom-6 nhsd-t-body\">\r\n    <strong>Note:</strong> It is recognised that such coded terms are akin to timing instructions so may be more logically containing within the various <code>Dosage.timing</code> structures. These do not currently support coded concept terms. Implementation experience will provide evidence to support any future change to the underlying FHIR specification.\r\n</div>\r\n\r\n\r\n### as directed\r\n\r\nThe use of a dosage instruction akin to “as directed” should be avoided wherever possible; however, if required then this can be SNOMED coded using [421769005 Follow directions (qualifier value)](https://termbrowser.nhs.uk/?perspective=full&conceptId1=421769005&edition=uk-edition) or conveyed as text as a patient instruction.\r\n\r\n---","mustSupport":true},{"id":"Dosage.patientInstruction","path":"Dosage.patientInstruction","definition":"Free-text instructions for the patient. Patient instructions can only be defined as one text string per dosage instruction. \r\n\r\n<div class=\"nhsd-a-box nhsd-a-box--bg-light-blue nhsd-!t-margin-bottom-6 nhsd-t-body\">\r\n    <strong>Note:</strong>\r\nThis field is not intended to provide instructions for a medication dispensing label.\r\n</div>\r\n\r\n```xml\r\n<patientInstruction value=\"Some relevant instructions for the patient\"/>\r\n```","mustSupport":true},{"id":"Dosage.timing","path":"Dosage.timing","definition":"Adding constraints, bounds or limits to a dosage instruction.","mustSupport":true},{"id":"Dosage.timing.repeat.bounds[x]","path":"Dosage.timing.repeat.bounds[x]","type":[{"code":"Duration"},{"code":"Range","profile":["https://fhir.nhs.uk.uk/StructureDefinition/NHSDigital-Range"]},{"code":"Period"}]},{"id":"Dosage.asNeeded[x]","path":"Dosage.asNeeded[x]","definition":"The `asNeeded` structure can be used to define a simple “as required” (or “pro re nata” expressed as “PRN” for those who still prefer to use Latin abbreviations) instructions. \r\n\r\nIn this case use the `asNeededBoolean` option. The absence of `asNeededBoolean` is equivalent to where `asNeededBoolean` has a value of `false`.\r\n\r\nThe `asNeededCodeableConcept` option is used to bound the dosage instruction to a coded term. Any number of coded terms can be used from the SNOMED-CT hierarchy as a descendant of [404684003 Clinical Finding (finding)](https://termbrowser.nhs.uk/?perspective=full&conceptId1=404684003&edition=uk-edition). An extensive medication-as-needed-reason value-set is defined within FHIR which is a subset of the SNOMED-CT clinical findings hierarchy.","mustSupport":true},{"id":"Dosage.site","path":"Dosage.site","definition":"Any `site` can be used from the SNOMED-CT hierarchy as a descendant of the concept [123037004 Body structure (body structure)](https://termbrowser.nhs.uk/?perspective=full&conceptId1=123037004&edition=uk-edition).\r\n\r\n```xml\r\n<!-- Site -->\r\n<site>\r\n    <coding>\r\n        <system value=\"http://snomed.info/sct\"/>\r\n        <code value=\"59380008\"/>\r\n        <display value=\"Anterior abdominal wall structure\"/>\r\n    </coding>\r\n</site>\r\n```","mustSupport":true},{"id":"Dosage.route","path":"Dosage.route","definition":"Any `route` can be used from the SNOMED-CT hierarchy as a descendant of the concept [284009009 Route of administration value (qualifier value)](https://termbrowser.nhs.uk/?perspective=full&conceptId1=284009009&edition=uk-edition).\r\n\r\n\r\n```xml\r\n<!-- Route -->\r\n<route>\r\n    <coding>\r\n        <system value=\"http://snomed.info/sct\"/>\r\n        <code value=\"78421000\"/>\r\n        <display value=\"intramuscular route\"/>\r\n    </coding>\r\n</route>\r\n```","mustSupport":true},{"id":"Dosage.method","path":"Dosage.method","definition":"The [999000041000001103 ePrescribing method simple reference set (foundation metadata concept)](https://termbrowser.nhs.uk/?perspective=full&conceptId1=999000041000001103&edition=uk-edition) reference set collates the commonly used terms for `method` for use in the United Kingdom.\r\n\r\nWhilst a [FHIR value-set for method](http://hl7.org/fhir/valueset-administration-method-codes.html) does exist, together with two separate hierarchies within SNOMED-CT ([Dose form administration method](https://termbrowser.nhs.uk/?perspective=full&conceptId1=736665006&edition=uk-edition) and [Dosing instruction fragment](https://termbrowser.nhs.uk/?perspective=full&conceptId1=422096002&edition=uk-edition)), it is recommended to use the ePrescribing reference set in the first instance.\r\n\r\n```xml\r\n<!-- Method -->\r\n<method>\r\n    <coding>\r\n        <system value=\"http://snomed.info/sct\"/>\r\n        <code value=\"129326001\"/>\r\n        <display value=\"Injection\"/>\r\n    </coding>\r\n</method>\r\n```\r\n\r\n### Use of synonyms\r\n\r\nIn most instances it is anticipated that the UK Preferred term should be the term applied to SNOMED CT concepts However for some cases, for example the anatomically correct SNOMED-CT term may not be easily understood by the patient or clinician, the use of a synonym may be preferred. \r\n\r\nGuidance for using terms that are not preferred terms is available within the published document [Guidance on the use of CodeableConcept.](https://developer.nhs.uk/apis/gpconnect-1-2-0/pages/accessrecord_structured/guidance-on-the-population-of-codeableconcept.pdf)","mustSupport":true},{"id":"Dosage.doseAndRate","path":"Dosage.doseAndRate","definition":"Dose and Rate elements within the Dosage structure have been combined within the R4 standard, but their underlying use and purpose is the same as per R4.\r\n\r\nA dose or rate of medication can be described via one of the following methods. In both instances when considering Units of Measure note that UCUM is preferred.\r\n\r\n### Sub-element: `Dosage.doseAndRate.doseQuantity`\r\n\r\nThe amount of medication per dose, as a [simple coded quantity](http://hl7.org/fhir/datatypes.html#SimpleQuantity).\r\n\r\n```xml\r\n<!-- Example A: 1 capsule -->\r\n<doseAndRate>\r\n    <doseQuantity>\r\n        <value value=\"1\"/>\r\n        <unit value=\"capsule\"/>\r\n        <system value=\"http://snomed.info/sct\"/>\r\n        <code value=\"732937005\"/>\r\n    </doseQuantity>\r\n</doseAndRate>\r\n\r\n<!-- Example B: 30 milligrams -->\r\n<doseAndRate>\r\n    <doseQuantity>\r\n        <value value=\"30\"/>\r\n        <unit value=\"milligram\"/>\r\n        <system value=\"http://unitsofmeasure.org\"/>\r\n        <code value=\"mg\"/>\r\n    </doseQuantity>\r\n</doseAndRate>\r\n```\r\n\r\n### Sub-element: `Dosage.doseAndRate.doseRange`\r\n\r\nA dose that may be in a given low / high range.\r\n\r\n```xml\r\n<!-- for a dose between 7.5 to 30 milligram -->\r\n<doseAndRate>\r\n    <doseRange>\r\n        <low>\r\n            <value value=\"7.5\"/>\r\n            <unit value=\"milligram\"/>\r\n            <code value=\"mg\"/>\r\n            <system value=\"http://unitsofmeasure.org\"/>\r\n        </low>\r\n        <high>\r\n            <value value=\"30\"/>\r\n            <unit value=\"milligram\"/>\r\n            <code value=\"mg\"/>\r\n            <system value=\"http://unitsofmeasure.org\"/>\r\n        </high>\r\n    </doseRange>\r\n</doseAndRate>\r\n```\r\n\r\nA rate-based quantity, such as _30 ml per hour_, can be expressed as a `rateRatio` with coded numerator and denominator values.\r\n\r\nWhere the unit of measure for the ratio is defined within UCUM (see [Common UCUM Units](https://www.hl7.org/fhir/valueset-UCUM-common.xml)), for example, “milliliter per hour”, it can also be expressed using the simpler `rateQuantity` structure.\r\n\r\n\r\n### Sub-element: `Dosage.doseAndRate.rateRatio`\r\n\r\nWhere the rate is expressed as coded numerator and denominator values.\r\n\r\n**at a rate of 30ml/hour using rateRatio**\r\n\r\n```xml\r\n<doseAndRate>\r\n <rateRatio>\r\n  <numerator>\r\n   <value value=\"30\"/>\r\n   <unit value=\"millilitre\"/>\r\n   <system value=\"http://unitsofmeasure.org\"/>\r\n   <code value=\"mL\"/>\r\n  </numerator>\r\n  <denominator>\r\n   <value value=\"1\"/>\r\n   <unit value=\"hour\"/>\r\n   <system value=\"http://unitsofmeasure.org\"/>\r\n   <code value=\"h\"/>\r\n  </denominator>\r\n </rateRatio>\r\n</doseAndRate>\r\n```\r\n\r\n### Sub-element: `Dosage.doseAndRate.rateQuantity`\r\nWhere the unit of measure applicable to a rate is defined within UCUM which is mathematically equivalent to defining the rate using the more complex `rateRatio` structure.\r\n\r\n**at a rate of 30ml/hour using rateQuantity**\r\n\r\n```xml\r\n<rateQuantity>\r\n <value value=\"30\"/>\r\n <unit value=\"milliliters per hour\"/>\r\n <system value=\"http://unitsofmeasure.org\"/>\r\n <code value=\"mL/h\"/>\r\n</rateQuantity>\r\n```\r\n\r\n**at a rate of 1mcg/kg/hour using rateQuantity**\r\n\r\n```xml\r\n<doseAndRate>\r\n <rateQuantity>\r\n  <value value=\"1\"/>\r\n  <unit value=\"microgram per kilogram per hour\"/>\r\n  <system value=\"http://unitsofmeasure.org\"/>\r\n  <code value=\"ug/kg/h\"/>\r\n </rateQuantity>\r\n</doseAndRate>\r\n```\r\n\r\n### Sub-element: `Dosage.doseAndRate.rateRange`\r\n\r\nWhere the unit of measure applicable to a rate range is defined within UCUM the `rateRange` structure can be used.\r\n\r\n**give at 1-2 litres per minute using rateRange**\r\n```xml\r\n<doseAndRate>\r\n <rateRange>\r\n  <low>\r\n   <value value=\"1\"/>\r\n   <unit value=\"liter per minute\"/>\r\n   <system value=\"http://unitsofmeasure.org\"/>\r\n   <code value=\"L/min\"/>\r\n  </low>\r\n  <high>\r\n   <value value=\"2\"/>\r\n   <unit value=\"liter per minute\"/>\r\n   <system value=\"http://unitsofmeasure.org\"/>\r\n   <code value=\"L/min\"/>\r\n  </high>\r\n </rateRange>\r\n</doseAndRate>\r\n```"},{"id":"Dosage.doseAndRate.dose[x]","path":"Dosage.doseAndRate.dose[x]","type":[{"code":"Range","profile":["https://fhir.nhs.uk.uk/StructureDefinition/NHSDigital-Range"]},{"code":"Quantity"}]},{"id":"Dosage.maxDosePerPeriod","path":"Dosage.maxDosePerPeriod","definition":"<div class=\"nhsd-a-box nhsd-a-box--bg-light-blue nhsd-!t-margin-bottom-6 nhsd-t-body\">\r\n    Used to define a maxiumum dose over a given time period.\r\n</div>\r\n\r\nAn example would be a Sumatriptan 6mg injection which can be repeated after an hour but not again over a 24 hour period. The `maxDosePerPeriod` is defined as 12mg/24hours.\r\n\r\nThe `maxDosePerPeriod` is defined for each dosage instruction. For a multi-sequence instruction it would therefore be possible to define different maximum dosing periods within different sequences of the complete instruction.\r\n\r\n<div class=\"nhsd-a-box nhsd-a-box--bg-light-yellow nhsd-!t-margin-bottom-6 nhsd-t-body\">\r\n    A real-world example of where this would be required has not yet been identified.\r\n</div>\r\n\r\n**Maximum dose per period of 12mg/24 hour**\r\n\r\n```xml\r\n<maxDosePerPeriod>\r\n    <numerator>\r\n        <value value=\"12\"/>\r\n        <unit value=\"milligram\"/>\r\n        <system value=\"http://unitsofmeasure.org\"/>\r\n        <code value=\"mg\"/>\r\n    </numerator>\r\n    <denominator>\r\n        <value value=\"24\"/>\r\n        <unit value=\"hour\"/>\r\n        <system value=\"http://unitsofmeasure.org\"/>\r\n        <code value=\"h\"/>\r\n    </denominator>\r\n</maxDosePerPeriod>\r\n```","mustSupport":true},{"id":"Dosage.maxDosePerAdministration","path":"Dosage.maxDosePerAdministration","definition":"<div class=\"nhsd-a-box nhsd-a-box--bg-light-blue nhsd-!t-margin-bottom-6 nhsd-t-body\">\r\n    Used to define a maximum dose for a single administration.\r\n</div>\r\n\r\nAn example would be Anagrelide for which a single dose should not exceed 2.5 mg. The `maxDosePerAdministration` is defined as 2.5mg.\r\n\r\nIn many scenarios it is expected that the `dosage.doseRange` would be used instead of `maxDosePerAdministration`.\r\n\r\nThe `maxDosePerAdministration` is defined for each dosage instruction. For a multi-sequence instruction it would therefore be possible to define different maximum dose administrations within different sequences of the complete instruction. \r\n\r\n<div class=\"nhsd-a-box nhsd-a-box--bg-light-yellow nhsd-!t-margin-bottom-6 nhsd-t-body\">\r\n    A real-world example of where this would be required has not yet been identified.\r\n</div>\r\n\r\n\r\n**Maximum dose per administration of 2.5mg**\r\n\r\n```xml\r\n<maxDosePerAdministration>\r\n    <value value=\"2.5\"/>\r\n    <unit value=\"milligram\"/>\r\n    <system value=\"http://unitsofmeasure.org\"/>\r\n    <code value=\"mg\"/>\r\n</maxDosePerAdministration>\r\n```"},{"id":"Dosage.maxDosePerLifetime","path":"Dosage.maxDosePerLifetime","definition":"<div class=\"callout-box--info\">\r\n    Used to define the maximum cumulative dose over the lifetime of a patient.\r\n</div>\r\n\r\nAn example would be Daunorubicin which may have a maximum cumulative dose of 600mg/m2 (based on the size of the patient). The `maxDosePerLifetime` is defined as 600 mg/m2.\r\n\r\nThe `maxDosePerLifetime` can be defined for each dosage instruction; which, for a multi-sequence instruction is illogical, as any `maxDosePerLifetime` is equally applicable to all dosage sequence that relate to the single medication coded concept.\r\n\r\n<div class=\"nhsd-a-box nhsd-a-box--bg-light-yellow nhsd-!t-margin-bottom-6 nhsd-t-body\">\r\n    <strong>Note:</strong> If a <code>maxDosePerLifetime</code> statement is required with a multi-sequence instruction, it is recommended to define it within the last / final sequence to ensure that the information is presented at the end of a the complete instruction, rather than th middle which could be overlooked.\r\n</div>\r\n\r\n\r\n**Maximum dose over lifetime of the patient of 600 mg/m2**\r\n\r\n```xml\r\n<maxDosePerLifetime>\r\n    <value value=\"600\"/>\r\n    <unit value=\"milligram per square metre\"/>\r\n    <system value=\"http://unitsofmeasure.org\"/>\r\n    <code value=\"mg/m2\"/>\r\n</maxDosePerLifetime>\r\n```"}]}}